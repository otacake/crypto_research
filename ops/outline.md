# 全体アウトライン（章→節）

方針: 本ファイルは章執筆前の設計資料。本文は書かず、各節で読者に理解してもらいたいメッセージのみ定義する。

## 序章: この本の問い
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 00-1 | 問いの設定 | 本書の中心問題は「中央裁定者なしで取引順序をどう共有するか」である。 |
| 00-2 | 日常との接続 | 日常の決済体験の背後には、見えない順序管理がある。 |
| 00-3 | 境界条件 | 本書は設計原理を扱い、投資助言や価格予測は扱わない。 |
| 00-4 | 読み方 | 各章は「問題→要件→仕組み」の対応として読むと理解が崩れにくい。 |

## 第1章: なぜ順序が必要か
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 01-1 | 二重支払いの具体例 | 同じ資産の重複利用を防ぐには、取引の前後関係が必要である。 |
| 01-2 | 順序なしの破綻 | 順序を共有できないと、同じ取引集合でも正当判定が分裂する。 |
| 01-3 | 時刻基準の限界 | 送信時刻だけでは参加者間の順序一致を保証できない。 |
| 01-4 | 必要条件の抽出 | 順序問題から導かれる必要条件を先に固定してから仕組みを選ぶべきである。 |

## 第2章: 中央裁定者ありの世界
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 02-1 | 裁定者の役割 | 中央裁定者は順序決定・記録更新・異議処理を集中的に担う。 |
| 02-2 | 承認と確定 | 承認、清算、最終確定は同じではなく、段階的に進む。 |
| 02-3 | 利点 | 中央型は運用統制と障害対応を単一ルールで実行しやすい。 |
| 02-4 | 限界 | 単一裁定者モデルは信頼集中と単一障害点の問題を持つ。 |

## 第3章: 中央裁定者なしで起きる困難
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 03-1 | 観測の不一致 | 分散環境では同じイベントでも観測順が参加者ごとにずれる。 |
| 03-2 | 部分順序 | 分散系で自然に得られるのは全順序ではなく部分順序である。 |
| 03-3 | 合意形成の難しさ | 観測の違いを放置すると、正当履歴を一本化できない。 |
| 03-4 | 問題定式化 | 問題は「誰の観測を採用するか」ではなく「観測差があっても一致する規則を作るか」である。 |

## 第4章: P2Pネットワークと伝播遅延
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 04-1 | 伝播の仕組み | P2Pでは情報が同時ではなく多段で広がる。 |
| 04-2 | 遅延と分断 | 遅延や一時分断は例外ではなく設計前提である。 |
| 04-3 | 観測順の差 | 到達順の差は取引順の差として顕在化する。 |
| 04-4 | 設計要求 | 時刻依存を減らし、検証可能な順序規則を採用する必要がある。 |

## 第5章: 取引データモデル（UTXO）
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 05-1 | モデル選択 | Bitcoinは残高モデルでなくUTXOモデルで所有を表現する。 |
| 05-2 | 入出力構造 | 取引は入力と出力の参照関係として検証される。 |
| 05-3 | 署名検証 | 署名は「誰が使えるか」を機械的に検証する条件である。 |
| 05-4 | 順序との関係 | UTXO消費規則は順序不整合時の二重消費を排除する基盤になる。 |

## 第6章: ブロックとチェーン
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 06-1 | ブロック構造 | 取引集合はブロックとして単位化され検証対象になる。 |
| 06-2 | ハッシュ連結 | 前ブロック参照で履歴全体の改ざん耐性を高める。 |
| 06-3 | Merkle Tree | Merkle構造は取引包含の検証を効率化する。 |
| 06-4 | 履歴固定 | ブロック連結は順序共有を検証可能な記録へ変換する。 |

## 第7章: Proof of Work と難易度調整
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 07-1 | PoWの目的 | PoWは履歴書き換えに実コストを課す仕組みである。 |
| 07-2 | 難易度 | 難易度は履歴生成ペースと安全性のバランス調整手段である。 |
| 07-3 | 調整ルール | 難易度調整は時間経過に対して生成間隔を安定化させる。 |
| 07-4 | 攻撃耐性 | 攻撃者の必要計算資源を押し上げることで実効安全性を確保する。 |

## 第8章: 合意の収束とフォーク
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 08-1 | フォークの発生 | 同時発見により一時的分岐は避けられない。 |
| 08-2 | 収束規則 | 最長/最重側へ収束する規則で履歴を一本化する。 |
| 08-3 | 再編成 | reorgは異常ではなく収束過程として理解すべき現象である。 |
| 08-4 | 実用確定性 | 実務上の確定は「絶対不変」ではなく確率的閾値で扱う。 |

## 第9章: インセンティブと攻撃コスト
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 09-1 | 報酬設計 | 報酬は参加者行動を規則準拠へ誘導する制御装置である。 |
| 09-2 | 手数料 | 手数料市場は取引優先順位と資源配分に影響する。 |
| 09-3 | 利得比較 | 正直行動が不正行動より期待利得で優位になる条件が必要である。 |
| 09-4 | 攻撃コスト評価 | 攻撃可能性は技術仕様だけでなく経済条件に依存する。 |

## 第10章: 限界と運用上の注意
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 10-1 | 脅威モデル | 安全性は想定脅威の外側では保証されない。 |
| 10-2 | 鍵管理 | 鍵管理の失敗はプロトコル健全性と独立に資産喪失を招く。 |
| 10-3 | 順序依存リスク | 取引順序はMEV等の追加リスクを生みうる。 |
| 10-4 | 限界整理 | できること・できないことを分けて運用前提を明示すべきである。 |

## 終章: 何を理解したか
| 節ID | 節名 | ここでこれを読者に理解してもらいたい（メインメッセージ） |
|---|---|---|
| 11-1 | 中心命題の再確認 | 読者は「順序共有の技術」という中心命題を再構成できる状態になる。 |
| 11-2 | 評価軸 | 新しいチェーンを要件対応で評価するチェック軸を持てる。 |
| 11-3 | 誤解の除去 | 「コイン発行技術」という誤解を概念的に切り離せる。 |
| 11-4 | 次の学習 | 一次資料を追って自走学習できる最低限の地図を得る。 |
